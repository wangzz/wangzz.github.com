---
title: 浏览器全局对象
date: 2021-01-12 13:45:46
tags: [DOM]
---

## 简介

浏览器提供了一些全局 DOM 对象。我们对 DOM 的操作基本上都是通过这些全局对象实现的。

## window

* 简介

window 对象类型为 Window。

window 表示浏览器中打开的窗口。如果文档中包含框架（<frame> 或 <iframe> 标签），浏览器都会为 HTML 文档创建一个 window 对象，并且为每个框架创建一个额外的 window 对象。

* 全局作用域

window 充当全局作用域，这意味着 `window 的所有属性和方法是全局定义的，都可以在全局直接使用`，而不用以 window.functionName 的方式使用。

我们也可以给 window 增加新的属性和方法，当然这些属性和方法也是全局可直接使用的。

<!-- more -->

* 属性

| 属性           | 描述                                                         |
| -------------- | ------------------------------------------------------------ |
| closed         | 返回窗口是否已被关闭。                                       |
| defaultStatus  | 设置或返回窗口状态栏中的默认文本。                           |
| document       | 对 Document 对象的只读引用。(请参阅对象)                     |
| frames         | 返回窗口中所有命名的框架。该集合是 Window 对象的数组，每个 Window 对象在窗口中含有一个框架。 |
| history        | 对 History 对象的只读引用。请参数 History 对象。             |
| innerHeight    | 返回窗口的文档显示区的高度。                                 |
| innerWidth     | 返回窗口的文档显示区的宽度。                                 |
| localStorage   | 在浏览器中存储 key/value 对。没有过期时间。                  |
| length         | 设置或返回窗口中的框架数量。                                 |
| location       | 用于窗口或框架的 Location 对象。请参阅 Location 对象。       |
| name           | 设置或返回窗口的名称。                                       |
| navigator      | 对 Navigator 对象的只读引用。请参数 Navigator 对象。         |
| opener         | 返回对创建此窗口的窗口的引用。                               |
| outerHeight    | 返回窗口的外部高度，包含工具条与滚动条。                     |
| outerWidth     | 返回窗口的外部宽度，包含工具条与滚动条。                     |
| pageXOffset    | 设置或返回当前页面相对于窗口显示区左上角的 X 位置。          |
| pageYOffset    | 设置或返回当前页面相对于窗口显示区左上角的 Y 位置。          |
| parent         | 返回父窗口。                                                 |
| screen         | 对 Screen 对象的只读引用。请参考 Screen 对象。               |
| screenLeft     | 返回相对于屏幕窗口的x坐标                                    |
| screenTop      | 返回相对于屏幕窗口的y坐标                                    |
| screenX        | 返回相对于屏幕窗口的x坐标                                    |
| sessionStorage | 在浏览器中存储 key/value 对。 在关闭窗口或标签页之后将会删除这些数据。 |
| screenY        | 返回相对于屏幕窗口的y坐标                                    |
| self           | 返回对当前窗口的引用。等价于 Window 属性。                   |
| status         | 设置窗口状态栏的文本。                                       |
| top            | 返回最顶层的父窗口。                                         |

* 方法

| 方法               | 描述                                                         |
| ------------------ | ------------------------------------------------------------ |
| alert()            | 显示带有一段消息和一个确认按钮的警告框。                     |
| atob()             | 解码一个 base-64 编码的字符串。                              |
| btoa()             | 创建一个 base-64 编码的字符串。                              |
| blur()             | 把键盘焦点从顶层窗口移开。                                   |
| clearInterval()    | 取消由 setInterval() 设置的 timeout。                        |
| clearTimeout()     | 取消由 setTimeout() 方法设置的 timeout。                     |
| close()            | 关闭浏览器窗口。                                             |
| confirm()          | 显示带有一段消息以及确认按钮和取消按钮的对话框。             |
| createPopup()      | 创建一个 pop-up 窗口。                                       |
| focus()            | 把键盘焦点给予一个窗口。                                     |
| getSelection()     | 返回一个 Selection 对象，表示用户选择的文本范围或光标的当前位置。 |
| getComputedStyle() | 获取指定元素的 CSS 样式。                                    |
| matchMedia()       | 该方法用来检查 media query 语句，它返回一个 MediaQueryList对象。 |
| moveBy()           | 可相对窗口的当前坐标把它移动指定的像素。                     |
| moveTo()           | 把窗口的左上角移动到一个指定的坐标。                         |
| open()             | 打开一个新的浏览器窗口或查找一个已命名的窗口。               |
| print()            | 打印当前窗口的内容。                                         |
| prompt()           | 显示可提示用户输入的对话框。                                 |
| resizeBy()         | 按照指定的像素调整窗口的大小。                               |
| resizeTo()         | 把窗口的大小调整到指定的宽度和高度。                         |
| scroll()           | 已废弃。 该方法已经使用了 scrollTo()                         |
| scrollBy()         | 按照指定的像素值来滚动内容。                                 |
| scrollTo()         | 把内容滚动到指定的坐标。                                     |
| setInterval()      | 按照指定的周期（以毫秒计）来调用函数或计算表达式。           |
| setTimeout()       | 在指定的毫秒数后调用函数或计算表达式。                       |
| stop()             | 停止页面载入。                                               |

## document

* 简介

document 对象类型为 Document。

document 是 window 对象的属性，由于 window 充当全局作用域，document 也就变成了不需要通过 window 对象就可全局可直接使用的对象实例。

浏览器在载入 HTML 文档后，它就会变成 Document 对象。`document 对象是 HTML 文档的根节点`，通过它我们可以访问 HTML 页面中的所有元素。

* 属性/方法

| 属性 / 方法                       | 描述                                                         |
| --------------------------------- | ------------------------------------------------------------ |
| document.activeElement            | 返回当前获取焦点元素                                         |
| document.addEventListener()       | 向文档添加句柄                                               |
| document.adoptNode(node)          | 从另外一个文档返回 adapded 节点到当前文档。                  |
| document.anchors                  | 返回对文档中所有 Anchor 对象的引用。                         |
| document.applets                  | 返回对文档中所有 Applet 对象的引用。注意: HTML5 已不支持 <applet> 元素。 |
| document.baseURI                  | 返回文档的绝对基础 URI                                       |
| document.body                     | 返回文档的body元素                                           |
| document.close()                  | 关闭用                                                       |
| document.open()                   | 方法打开的输出流，并显示选定的数据。                         |
| document.cookie                   | 设置或返回与当前文档有关的所有 cookie。                      |
| document.createAttribute()        | 创建一个属性节点                                             |
| document.createComment()          | createComment() 方法可创建注释节点。                         |
| document.createDocumentFragment() | 创建空的 DocumentFragment 对象，并返回此对象。               |
| document.createElement()          | 创建元素节点。                                               |
| document.createTextNode()         | 创建文本节点。                                               |
| document.doctype                  | 返回与文档相关的文档类型声明 (DTD)。                         |
| document.documentElement          | 返回文档的根节点                                             |
| document.documentMode             | 返回用于通过浏览器渲染文档的模式                             |
| document.documentURI              | 设置或返回文档的位置                                         |
| document.domain                   | 返回当前文档的域名。                                         |
| document.domConfig                | 已废弃。返回 normalizeDocument() 被调用时所使用的配置。      |
| document.embeds                   | 返回文档中所有嵌入的内容（embed）集合                        |
| document.forms                    | 返回对文档中所有 Form 对象引用。                             |
| document.getElementsByClassName() | 返回文档中所有指定类名的元素集合，作为 NodeList 对象。       |
| document.getElementById()         | 返回对拥有指定 id 的第一个对象的引用。                       |
| document.getElementsByName()      | 返回带有指定名称的对象集合。                                 |
| document.getElementsByTagName()   | 返回带有指定标签名的对象集合。                               |
| document.images                   | 返回对文档中所有 Image 对象引用。                            |
| document.implementation           | 返回处理该文档的 DOMImplementation 对象。                    |
| document.importNode()             | 把一个节点从另一个文档复制到该文档以便应用。                 |
| document.inputEncoding            | 返回用于文档的编码方式（在解析时）。                         |
| document.lastModified             | 返回文档被最后修改的日期和时间。                             |
| document.links                    | 返回对文档中所有 Area 和 Link 对象引用。                     |
| document.normalize()              | 删除空文本节点，并连接相邻节点                               |
| document.normalizeDocument()      | 删除空文本节点，并连接相邻节点的                             |
| document.open()                   | 打开一个流，以收集来自任何 document.write() 或 document.writeln() 方法的输出。 |
| document.querySelector()          | 返回文档中匹配指定的CSS选择器的第一元素                      |
| document.querySelectorAll()       | document.querySelectorAll() 是 HTML5中引入的新方法，返回文档中匹配的CSS选择器的所有元素节点列表 |
| document.readyState               | 返回文档状态 (载入中……)                                      |
| document.referrer                 | 返回载入当前文档的文档的 URL。                               |
| document.removeEventListener()    | 移除文档中的事件句柄(由 addEventListener() 方法添加)         |
| document.renameNode()             | 重命名元素或者属性节点。                                     |
| document.scripts                  | 返回页面中所有脚本的集合。                                   |
| document.strictErrorChecking      | 设置或返回是否强制进行错误检查。                             |
| document.title                    | 返回当前文档的标题。                                         |
| document.URL                      | 返回文档完整的URL                                            |
| document.write()                  | 向文档写 HTML 表达式 或 JavaScript 代码。                    |
| document.writeln()                | 等同于 write() 方法，不同的是在每个表达式之后写一个换行符。  |

## navigator

* 简介

navigator 对象类型为 Navigator。它也是 window 的属性，包含了有关浏览器的信息。

* 属性

| 属性          | 说明                                        |
| ------------- | ------------------------------------------- |
| appCodeName   | 返回浏览器的代码名                          |
| appName       | 返回浏览器的名称                            |
| appVersion    | 返回浏览器的平台和版本信息                  |
| cookieEnabled | 返回指明浏览器中是否启用 cookie 的布尔值    |
| platform      | 返回运行浏览器的操作系统平台                |
| userAgent     | 返回由客户机发送服务器的user-agent 头部的值 |

* 方法

| 方法           | 描述                                      |
| -------------- | ----------------------------------------- |
| javaEnabled()  | 指定是否在浏览器中启用Java                |
| taintEnabled() | 规定浏览器是否启用数据污点(data tainting) |


## screen

* 简介

screen 对象类型为 Screen。它是 window 的属性，包含有关客户端显示屏幕的信息。

* 属性

| 属性        | 说明                                     |
| ----------- | ---------------------------------------- |
| availHeight | 返回屏幕的高度（不包括Windows任务栏）    |
| availWidth  | 返回屏幕的宽度（不包括Windows任务栏）    |
| colorDepth  | 返回目标设备或缓冲器上的调色板的比特深度 |
| height      | 返回屏幕的总高度                         |
| pixelDepth  | 返回屏幕的颜色分辨率（每象素的位数）     |
| width       | 返回屏幕的总宽度                         |

## history

* 简介

history 对象类型为 History。它是 window 的属性，包含用户在浏览器窗口中访问过的 URL。

* 属性

| 属性    | 说明                   |
| ------- | ---------------------- |
| length  | 返回历史列表中的网址数 |
| History | 对象方法               |

* 方法

| 方法      | 说明                              |
| --------- | --------------------------------- |
| back()    | 加载 history 列表中的前一个 URL   |
| forward() | 加载 history 列表中的下一个 URL   |
| go()      | 加载 history 列表中的某个具体页面 |

## location

* 简介

location 对象类型为 Location。它是 window 的属性，包含当前 URL 的信息。

* 属性

| 属性     | 描述                          |
| -------- | ----------------------------- |
| hash     | 返回一个URL的锚部分           |
| host     | 返回一个URL的主机名和端口     |
| hostname | 返回URL的主机名               |
| href     | 返回完整的URL                 |
| pathname | 返回的URL路径名。             |
| port     | 返回一个URL服务器使用的端口号 |
| protocol | 返回一个URL协议               |
| search   | 返回一个URL的查询部分         |

* 方法

| 方法      | 说明                   |
| --------- | ---------------------- |
| assign()  | 载入一个新的文档       |
| reload()  | 重新载入当前文档       |
| replace() | 用新的文档替换当前文档 |

## sessionStorage/localStorage

* sessionStorage

是 Storage 类型的对象。用于临时保存同一窗口或标签页的数据，在关闭窗口或标签后会删除这些数据。

* localStorage

是 Storage 类型的对象。用于长久保存整个网站的数据，保存的数据没有过期时间限制，直到手动删除。

> localStorage 的优势

```
 1、localStorage 拓展了 cookie 的 4K 限制。
 2、localStorage 会可以将第一次请求的数据直接存储到本地，这个相当于一个 5M 大小的针对于前端页面的数据库，相比于 cookie 可以节约带宽，但是这个却是只有在高版本的浏览器中才支持的。
```

> localStorage 的局限

```
 1、浏览器的大小不统一，并且在 IE8 以上的 IE 版本才支持 localStorage 这个属性。
 2、目前所有的浏览器中都会把localStorage的值类型限定为string类型，这个在对我们日常比较常见的JSON对象类型需要一些转换。
 3、localStorage在浏览器的隐私模式下面是不可读取的。
 4、localStorage本质上是对字符串的读取，如果存储内容多的话会消耗内存空间，会导致页面变卡。
 5、localStorage不能被爬虫抓取到。
```

* 属性

| 属性   | 描述                           |
| ------ | ------------------------------ |
| length | 返回存储对象中包含多少条数据。 |

* 方法

| 方法                    | 描述                                               |
| ----------------------- | -------------------------------------------------- |
| key(n)                  | 返回存储对象中第 n 个键的名称                      |
| getItem(keyname)        | 返回指定键的值                                     |
| setItem(keyname, value) | 添加键和值，如果对应的值存在，则更新该键对应的值。 |
| removeItem(keyname)     | 移除键                                             |
| clear()                 | 清除存储对象中所有的键                             |


## 参考文档

* [Browser 对象](https://www.runoob.com/jsref/obj-window.html)